<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/players/index.css">

<% if (!user) { %>
  <link rel="stylesheet" href="/stylesheets/siwg.css">
<% } %>
</head>
<body>
  <nav>
    <a href="/">home page.</a>
    <a href="/basketball">basketball.</a>
    <a href="/teams/new">add team.</a>
    <a href="/players/new">add player.</a>
    <a href="/profiles/<%= user.profile._id %>">my profile.</a>
    <% if (user) { %>
      <a href="/auth/logout">
        <button type="submit">logout.</button>
      </a>
    <% } else { %>
      <a href="/auth/google" class="siwg-link">
        <button type="submit" class="siwg">
          <img id="siwg-image" alt="Sign in with Google" />
        </button>
      </a>
    <% } %>
  </nav>
<main>
  <div class="rosterContainer">
    <% players.forEach(player => { %>
      <div class="playerCard">
        <a href="/players/<%= player._id %>" class="player-link">
          <% if (player.image) { %>
            <img class="playerImg" src="<%= player.image %>" alt="<%= player.name %>'s avatar">
          <% } else { %>
            <img class="playerImg" src="https://picsum.photos/96" alt="A placeholder avatar">
          <% } %>
        </a>
        <a 
          href="/players/<%= player._id %>" 
          class="player-link">
          <%= player.name %>, <%= player.team %> <%= player.year %>
        </a>
      </div>
    <% }) %>
  </div>
</main>

<%- include('../partials/footer') %>